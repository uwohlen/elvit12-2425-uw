<!DOCTYPE html>
<html lang='no'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title></title>
    <style>
        table, th, td {
            border: solid 1px black;
            padding: 5px;
            border-collapse: collapse;
        }
    </style>
</head>
<body>
    <table id="idTab">

    </table>
    <script>

        
        // Sammenligningsfunksjon for sort()-funksjonen til en array med objekter
        // Sorterer fra minst til størst på navn
        function sammenlignNavn(a,b) {
            if (a.navn < b.navn) {
                return -1;
            }
            else if (a.navn > b.navn) {
                return 1;
            }
            else {
                return 0;
            }
        }


        let tabEl = document.getElementById("idTab");

        let titler = ["Navn","Klasse","Alder","Karakterer"];

        let elever = [
            {
                navn: "Per",
                klasse: "3STA",
                alder: 20,
                karakterer:[5,3,4,4,5,3,4,5,6]
            },
            {
                navn: "Pål",
                klasse: "3STA",
                alder: 19,
                karakterer: [4,3,4,5,3,4,5,6,4]
            },
            {
                navn: "Espen",
                klasse: "3STB",
                alder: 18,
                karakterer: [2,3,4,5,3,4,5,6,4]
            },
            {
                navn: "Kari",
                klasse: "3STB",
                alder: 19,
                karakterer: [2,3,4,6,2,1,3,5,5]
            }           
        ];   

        //elever[0].navn //Per
        //elever[3].karakterer[4] //2
        
        for (let i=0; i<elever.length; i++) {
            let sum = 0;
            for (let j=0; j<elever[i].karakterer.length; j++){
                sum += elever[i].karakterer[j];
            }
            let snitt = sum / elever[i].karakterer.length;
            elever[i].snitt = snitt.toFixed(1);
        }
        console.log(elever)
        elever.sort(sammenlignNavn)

        let tekst = "<thead><tr>";
        for (let i=0; i<titler.length; i++) {
            tekst += "<th>" + titler[i] + "</th>";
        } 
        tekst += "</tr></thead><tbody>";
        
        for (let i=0; i<elever.length; i++) {
            tekst += "<tr><td>" + elever[i].navn + "</td><td>" + elever[i].klasse 
            + "</td><td>" + elever[i].alder + "</td><td>" + elever[i].snitt + "</td></tr>";
        }

        tabEl.innerHTML = tekst+"</tbody>";

    </script>
</body>
</html>